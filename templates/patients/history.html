{% extends 'base.html' %}

{% block content %}

<div style="margin: 20px 40px; display: flex; justify-content: space-between; width: 40vw;">
    <h1>Patient ID: {{patient.id}}</h1>
    <div class="btn-group" role="group" aria-label="Basic mixed styles example">
        <button type="button" class="btn btn-danger"><a style="text-decoration: none; color: white;" href="{% url 'patients_delete' patient.id %}"> <i class="bi bi-trash3"></i> &nbsp Delete</a></button>
        <button type="button" class="btn btn-secondary"> <a style="text-decoration: none; color: white;" href="{% url 'patients_update' patient.id %}"> &nbsp <i class="bi bi-pencil-square"></i>&nbsp Edit &nbsp</a></button>
    </div>
</div>

<div class="about-wrapper">
    <div
        style=" font-size: 24px; margin-left: 50px; width: 50vw; display: grid; grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(6, 1fr)" class="container-sm">
        <div style="margin: 20px 0;" class="bg-$orange-200 text-dark">Name: </div>
        <div style="margin: 20px 40px;">{{patient.patient_name}}</div>
        <div style="margin: 20px 0;">Last Name: </div>
        <div style="margin: 20px 40px;">{{patient.patient_lastname}}</div>
        <div style="margin: 20px 0;">Species: </div>
        <div style="margin: 20px 40px;">{{patient.patient_species}}</div>
        <div style="margin: 20px 0;">Age: </div>
        <div style="margin: 20px 40px;">{{patient.patient_age}}</div>
        <div style="margin: 20px 0;">Gender: </div>
        <div style="margin: 20px 40px;">{{patient.patient_gender}}</div>
        <div style="margin: 20px 0;">Weight: </div>
        <div style="margin: 20px 40px;">{{patient.patient_weight}}</div>
        <div style="margin: 20px 0;">Color: </div>
        <div style="margin: 20px 40px;">{{patient.color}}</div>
    </div>
    <div class="container-sm">
        {% if events %}
            {% for e in events %}
                {% if e.patient.patient_name == patient.patient_name %}
                <div class="card text-center" style="width: 35vw; margin: 40px auto;">
                    <div class="card-header" >
                        <i class="bi bi-info-square-fill"></i> &nbsp {{e.service}}
                    </div>
                    <div class="card-body">
                      <h5 class="card-title">{{e.title}}</h5>
                      <p class="card-text">{{e.description}}</p>
                      <!-- <a href="{% url 'patient_history' patient.id %}" class="btn btn-primary"><i class="bi bi-info-circle"> </i> &nbsp Details </a> -->
                    </div>
                    <div class="card-footer text-muted">
                        Event Date: {{e.start_time}} 
                    </div>
                  </div>
                {% endif %}
            {% endfor %}
        {% else %}
            <p>No events for this patient yet</p>
        {% endif %}
    </div>
</div>


{% endblock content %}